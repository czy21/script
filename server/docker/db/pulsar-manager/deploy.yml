version: '3.9'

services:

  pulsar-manager:
    image: {{ param_registry_url }}/{{ param_registry_dir }}/pulsar-manager
    container_name: pulsar-manager
    privileged: true
    user: root
    expose:
      - "9527"
    volumes:
      - {{ param_docker_data }}/{{ param_role_name }}/conf/manager.properties:/opt/pulsar-manager/application.properties
      - {{ param_docker_data }}/{{ param_role_name }}/log/web/:/var/log/nginx/
      - {{ param_docker_data }}/{{ param_role_name }}/log/api/:/log/
    environment:
      SPRING_CONFIGURATION_FILE: /opt/pulsar-manager/application.properties
    restart: always

networks:
  default:
    name: local
