version: '3.9'

services:

  mssql:
    image: mcr.microsoft.com/mssql/server:2019-latest
    container_name: mssql
    privileged: true
    user: root
    ports:
      - "1433:1433"
    volumes:
      - {{ param_docker_data }}/{{ param_role_name }}/data/:/var/opt/mssql/
    restart: always
    environment:
      TZ: Asia/Shanghai
      ACCEPT_EULA: Y
      MSSQL_SA_PASSWORD: {{ param_db_mssql_password }}
      MSSQL_COLLATION: Chinese_PRC_CI_AS
networks:
  default:
    external:
      name: local
