version: '3.7'

services:

  nexus:
    image: sonatype/nexus3
    container_name: nexus
    privileged: true
    user: root
    ports:
      - "8081:8081"
      - "5004:5000"
      - "5005:5005"
    volumes:
      - ${GLOBAL_DOCKER_DATA}/nexus/data/:/nexus-data/
    environment:
      INSTALL4J_ADD_VM_PARAMS: -Xms500M -Xmx500M -XX:MaxDirectMemorySize=4g
    restart: always
networks:
  default:
    external:
      name: local_default
