- name: os
  hosts: all
  vars_files:
    - "vars/env.yml"
    - "vars/main.yml"
  vars:
    param_role_name: os
  pre_tasks:
    - include_tasks: roles/common/tasks/copy.yml
  roles:
    - '{{ param_role_name }}'
  post_tasks:
    - include_tasks: roles/common/tasks/clean.yml
  tags:
    - '{{ param_role_name }}'

- name: docker
  hosts: all
  vars_files:
    - "vars/env.yml"
    - "vars/main.yml"
  vars:
    param_role_name: docker
  pre_tasks:
    - include_tasks: roles/common/tasks/copy.yml
  roles:
    - '{{ param_role_name }}'
  post_tasks:
    - include_tasks: roles/common/tasks/clean.yml
  tags:
    - '{{ param_role_name }}'

- name: k8s
  hosts: all
  vars_files:
    - "vars/env.yml"
    - "vars/main.yml"
  vars:
    param_role_name: k8s
  pre_tasks:
    - include_tasks: roles/common/tasks/copy.yml
  roles:
    - '{{ param_role_name }}'
  post_tasks:
    - include_tasks: roles/common/tasks/clean.yml
  tags:
    - '{{ param_role_name }}'